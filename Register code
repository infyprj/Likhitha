user.ts

import { Injectable } from '@angular/core';
import { HttpClient, HttpErrorResponse } from '@angular/common/http';
import { Observable, throwError } from 'rxjs';
import { catchError } from 'rxjs/operators';

@Injectable({
  providedIn: 'root'
})
export class UserService {
  private baseUrl = 'https://localhost:7195/api/User';

  constructor(private http: HttpClient) { }

  registerUser(user: any): Observable<boolean> {
    return this.http.post<boolean>(`${this.baseUrl}/RegisterUser`, user)
      .pipe(catchError(this.handleError));
  }

  private handleError(error: HttpErrorResponse) {
    console.error('An error occurred:', error.error);
    return throwError(() => error.message || 'Server Error');
  }
}

Component.ts

import { Component, OnInit } from '@angular/core';
import { NgForm } from '@angular/forms';
import { UserService } from '../services/user.service';

@Component({
  selector: 'app-register',
  templateUrl: './register.component.html',
  styleUrls: ['./register.component.css']
})
export class RegisterComponent implements OnInit {
  successMsg = '';
  errorMsg = '';
  showResponse = false;

  constructor(private userService: UserService) { }

  ngOnInit(): void { }

  submitRegisterForm(form: NgForm) {
    const userObj = {
      email: form.value.email,
      passwordHash: form.value.password,
      firstName: form.value.firstName,
      lastName: form.value.lastName,
      phoneNumber: form.value.phone,
      address: form.value.address,
      city: form.value.city,
      state: form.value.state,
      postalCode: form.value.postalCode,
      country: form.value.country,
      roleId: 2
    };

    this.userService.registerUser(userObj).subscribe({
      next: (response: boolean) => {
        this.showResponse = true;
        this.successMsg = response ? 'Registration successful!' : 'Registration failed.';
      },
      error: (err) => {
        this.showResponse = true;
        this.errorMsg = 'Error: ' + err;
      }
    });
  }
}

html
<div class="container">
  <form #registerForm="ngForm" (ngSubmit)="submitRegisterForm(registerForm)" style="background-color:beige;">
    <h2 style="text-align:center;">Register</h2>
    <h6 style="text-align:right; color:gray;">All fields are mandatory</h6>

    <div class="form-group">
      <label>First Name</label>
      <input type="text" name="firstName" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Last Name</label>
      <input type="text" name="lastName" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input type="password" name="password" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Phone Number</label>
      <input type="text" name="phone" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Address</label>
      <input type="text" name="address" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>City</label>
      <input type="text" name="city" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>State</label>
      <input type="text" name="state" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Postal Code</label>
      <input type="text" name="postalCode" class="form-control" ngModel required>
    </div>

    <div class="form-group">
      <label>Country</label>
      <input type="text" name="country" class="form-control" ngModel required>
    </div>

    <div class="form-group" style="text-align:left;">
      <button type="submit" [disabled]="!registerForm.valid" class="btn btn-primary">Register</button>
    </div>

    <div *ngIf="showResponse">
      <p style="color: green;" *ngIf="successMsg">{{ successMsg }}</p>
      <p style="color: red;" *ngIf="errorMsg">{{ errorMsg }}</p>
    </div>
  </form>
</div>


